{% extends "base.html" %}
{% block content %}
<style>
  /* Body */
  body {
    background-color: #f4f4f4; /* light gray */
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
  }

  /* Container */
  .dashboard-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
  }

  h2 {
    color: #b8860b; /* gold */
    font-weight: 600;
    margin-bottom: 25px;
    font-size: 28px;
  }

  /* Buttons */
  .btn-success, .btn-warning, .btn-danger {
    font-weight: 500;
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid #b8860b;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
    background-color: #fff;  /* white background */
    color: #b8860b;          /* gold text */
  }

  .btn-success:hover, .btn-warning:hover, .btn-danger:hover {
    background-color: #b8860b; /* gold background on hover */
    color: #fff;               /* white text on hover */
  }

  /* Product Grid */
  .products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 25px;
  }

  /* Product Card */
  .product-card {
    background-color: #fff;      /* white card */
    border-radius: 10px;
    border: 1px solid #ddd;
    padding: 20px;
    display: flex;
    flex-direction: column;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .product-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  }

  .product-image img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
  }

  .product-info h5 {
    margin: 0 0 6px 0;
    font-size: 16px;
    font-weight: 600;
    color: #333;
  }

  .product-info p {
    margin: 2px 0;
    font-size: 13px;
    color: #666;
  }

  .product-actions {
    margin-top: 12px;
    display: flex;
    gap: 8px;
  }

  /* Orders Table */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 35px;
    background-color: #fff; /* white table background */
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(0,0,0,0.05);
  }

  table th, table td {
    padding: 12px 15px;
    text-align: left;
    font-size: 14px;
  }

  table th {
    background-color: #b8860b; /* gold header */
    color: #fff;
    font-weight: 600;
  }

  table tr:nth-child(even) {
    background-color: #f4f4f4; /* light gray stripe */
  }

  table tr:hover {
    background-color: #eaeaea;
  }

  /* Responsive tweaks */
  @media(max-width: 768px) {
    .products-grid {
      grid-template-columns: 1fr;
    }
  }
</style>


<div class="dashboard-container">
  <h2>üåø NaturalBloom Admin Dashboard</h2>
  <a href="{{ url_for('admin_add_product') }}" class="btn btn-success">+ Add New Product</a>
  
  <h3>Products</h3>
  {% if products %}
    <div class="products-grid">
      {% for p in products %}
      <div class="product-card">
        {% if p.image %}
        <div class="product-image">
  
          <img src="{{ url_for('static', filename='css/uploads/' ~ p.image) }}" alt="{{ p.title }}">
        </div>

        {%endif%}
        <div class="product-info">
          <h5>{{ p.title }} - ‚Çπ{{ p.price }} ({{ p.qty }})</h5>
          <p><small>{{ p.subtitle }}</small></p>
          <p><i>Slug:</i> {{ p.slug }}</p>
        </div>
        <div class="product-actions">
          <a href="{{ url_for('admin_edit_product', product_id=p.id) }}" class="btn btn-warning btn-sm">‚úèÔ∏è Edit</a>
          <a href="{{ url_for('admin_delete_product', product_id=p.id) }}" class="btn btn-danger btn-sm"
             onclick="return confirm('Are you sure you want to delete this product?');">üóëÔ∏è Delete</a>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No products added yet.</p>
  {% endif %}

  <h3>Orders</h3>
  <table>
    <thead>
      <tr>
        <th>Buyer Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody>
      {% if orders %}
        {% for o in orders %}
        <tr>
          <td>{{ o.name }}</td>
          <td>{{ o.email }}</td>
          <td>{{ o.phone }}</td>
          <td>{{ o.address }}</td>
        </tr>
        {% endfor %}
      {% else %}
        <tr><td colspan="4">No orders yet.</td></tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock %} 